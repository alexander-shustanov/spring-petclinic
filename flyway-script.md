1. Так получилось, что у нас в проекте еще нет системы версионирования баз данных  
   `Amplicode Explorer -> Configurations`  
   мы не находим такой конфигурации в панели Amplicode Explorer  
   `Amplicode Explorer -> Configurations -> Data Sources -> dataSource`  
   а также видим, что источник данных у нас тут H2. Не очень похоже на production-ready.
2. Давай переедем на какую нибудь реляционную БД. Например, Postgres. Чтобы не разбираться с локальным поднятие постгреса, давайте лучше создадим сервис в докер композе и запустим БД в контейнере. Так как файла докер композ у нас еще нет, нужно его создать. Amplicode позволяет это сделать.  
   `Amplicode Eplorer -> Docker -> Right Click -> New -> Docker Compose File -> OK`
3. В открывшемся файле сгенерируем новый сервис, воспользовавшись стандартным для IntelliJ действием Generate cmd+n
   `Cmd+N -> Add Service -> PostgreSQL`
4. В открывшемся окне можем сконфигурировать инетересующие нас параметры, в целом можем оставить и текущие, но для удобства давайте зададим свои:
   `user:root`
   `password:root`
   `db:spring-petclinic`
5. База есть. Давайте её запустим. Изменим источник данных для нашего приложения.
   `Amplicode Explorer -> Configurations -> Data Sources -> h2 -> Rigt Click -> Override Default Datasource`
6. И теперь приступим к добавлению Flyway в наш проект.
   `Amplicode Explorer -> Configurations -> Add configuration -> DB Migration Configuration`
7. Выберем Flyway, а в качестве системы источника для генерации скрипта инициализации давайте выберем Model
   `Source type: Model`
8. Рассказать про окно превью скриптов нажать `ОК`
9. Показать что также добавилась необходимая зависимость, раскомментить код для flyway плагина в build.gradle
   `Выполнить команду flywayMigrate`
10. Но инит скрипты нужны не так часто как диф скрипты после внесения изменений в JPA модель. Amplicode позволяет сгенерировать их автоматически
11. Давайте:
    a) удалим устаревший атрибут fax из сущности Owner, добавим (добавлять атрибуты через разные места generate menu/amplicode designer/editor toolbar чтобы показать что можно делать именно так, как удобно вам)
    b) добавим новый атрибут email соответствующий текущим реалиям (про validation секцию в инспекторе сказать если есть время, что позволяет находить новые свойства)
    c) а ветеринару добавим список специальностей (ManyToMany) + упомянуть про умный хинт generate equals hashcode
12. Теперь давайте сгенерим дифф скрипт
    `Amplicode Explorer -> + -> DB Versioning -> Flyway Versioned Migration`
13. Мы будем сравнивать модель с базой данных. Поэтому нужно настроить подключение к БД, настроим его отталкиваясь от информации о настроенном data source
    `+ -> Create New From Datasource -> OK`
14. Рассказываем про дифф. Можно по желанию разбить файл миграции на несколько, типо сказать что это две разные бизнес задачи и не хочется скаладывать всё в одну кучу. Или просто жмём ОК.
    `Выполнить команду migrate`
15. Схема свежая есть и здорово что все эти изменения сгенерировались автоматически. Но иногда нужно что-то написать руками. Amplicode помогает и в этом случае. Вы можете использовать удобные визарды для создания стейтментов
    `Создать новый sql файл в директории db/migration. Сгенерировать insert для любой таблицы через Amplicode Designer`
16. Если хотим проверить корректность -> генерим pgAdmin, подключаемся и смотрим что там в табличках
